(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),r=n.n(c),s=n(23),o=n.n(s),i=(n(40),n(12)),u=n(13),p=n(15),b=n(14),l=(n(41),n(33)),h=n(6),j=n(18),d=n(28);n(45),n(47);d.a.initializeApp({apiKey:"AIzaSyAHtcis1LTGy4FVO06M_HOY-mzIlqxMQto",authDomain:"chatappbyakif.firebaseapp.com",databaseURL:"https://chatappbyakif.firebaseio.com",projectId:"chatappbyakif",storageBucket:"chatappbyakif.appspot.com",messagingSenderId:"516465246737",appId:"1:516465246737:web:fc1409fc3acdc27cfd67b0",measurementId:"G-15E3NB1ZDQ"});var f=d.a,O=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.dbData()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Home"}),Object(a.jsx)("button",{onClick:function(){return e.props.facebookLogin(e.props.history)},children:"Facebook Login"})]})}}]),n}(r.a.Component),m=Object(j.b)(null,(function(e){return{facebookLogin:function(t){return e(function(e){return function(t){var n=new f.auth.FacebookAuthProvider;f.auth().signInWithPopup(n).then((function(n){var a=n.user,c={name:a.displayName,email:a.email,profile:a.photoURL,uid:a.uid};f.database().ref("/").child("user/".concat(a.uid)).set(c).then(console.log("".concat(a.displayName," Loged in successfully"))),console.log("user ==> ",a),e.push("/chat"),t({type:"CurrentUser",payload:c})})).catch((function(e){var t=e.message;console.log("error ==> ",t)}))}}(t))},dbData:function(){return e((function(e){var t=[];f.database().ref("/").child("user").on("child_added",(function(e){t.push(e.val())})),e({type:"DatabaseUsers",payload:t})}))}}}))(O),v=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.user;return console.log(" Full Data ==> ",this.props),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:e.profile,alt:""}),Object(a.jsxs)("h3",{children:[e.name," Lets Begin!"]}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Users:"}),Object(a.jsx)("ol",{children:this.props.users.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:e.profile,width:"20",alt:""}),e.name,Object(a.jsx)("button",{children:"chat"})]},t)}))})]})})]})}}]),n}(c.Component),y=Object(j.b)((function(e){return{user:e.CurrentUser,users:e.users}}),null)(v),g=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(l.a,{children:[Object(a.jsx)(h.a,{exact:!0,path:"/",component:m}),Object(a.jsx)(h.a,{path:"/chat",component:y})]})}}]),n}(r.a.Component),x=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"App",children:"ChatApp"}),Object(a.jsx)(g,{})]})}}]),n}(r.a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},C=n(21),L={users:[],CurrentUser:{}},U=n(20),D=n(34),I=Object(U.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action => ",t),t.type){case"CurrentUser":return Object(C.a)(Object(C.a)({},e),{},{CurrentUser:t.payload});case"DatabaseUsers":return Object(C.a)(Object(C.a)({},e),{},{users:t.payload})}return e}),Object(U.a)(D.a));o.a.render(Object(a.jsx)(j.a,{store:I,children:Object(a.jsx)(x,{})}),document.getElementById("root")),k()}},[[51,1,2]]]);
//# sourceMappingURL=main.f492be89.chunk.js.map